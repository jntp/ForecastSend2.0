<HomeWindow>:
  name: "home"

  # Set background color to custom color
  canvas.before:
    Color:
      rgba: 0, 0.3, 0.3, 1
    Rectangle:
      pos: self.pos
      size: self.size

  FloatLayout:
    size: root.width, root.height
    cols: 1

    Label:
      text: "Welcome!"
      color: 1, 1, 1, 0.9
      size_hint: 0.5, 0.12
      pos_hint: {"x": 0.25, "top": 0.85}
      font_size: (root.width**2 + root.height**2) / 12**4

    Label:
      text: "What forecast would you like to send?"
      color: 1, 1, 1, 0.9
      size_hint: 0.5, 0.12
      pos_hint: {"x": 0.25, "top": 0.6}
      font_size: (root.width**2 + root.height**2) / 14**4

      FloatLayout:
        size: root.width, root.height / 1.5 
        cols: 2

        Button:
          pos_hint: {"x": 0.15, "top": 0.7}
          size_hint: 0.3, 0.2
          font_size: (root.width**2 + root.height**2) / 16**4
          text: "One-day Precipitation"

        Button:
          pos_hint: {"x": 0.55, "top": 0.7}
          size_hint: 0.3, 0.2
          font_size: (root.width**2 + root.height**2) / 16**4
          text: "Medium-range Update"
          on_release:
            root.manager.transition.direction = "left"
            root.medium_range() # call medium-range function in main.py

<CityWindow>:
  name: "city"

  dropDownList: dropDownList

  # Set background color to custom color
  canvas.before:
    Color:
      rgba: 0, 0.3, 0.3, 1
    Rectangle:
      pos: self.pos
      size: self.size

  FloatLayout:
    size: root.width, root.height

    Label:
      text: "Which city or region are you sending the forecast?"
      color: 1, 1, 1, 0.9
      size_hint: 0.5, 0.12
      pos_hint: {"x": 0.25, "top": 0.9}
      font_size: (root.width**2 + root.height**2) / 14**4

    BoxLayout:
      id: dropDownList
      size_hint: 0.5, 0.12
      pos_hint: {"x": 0.25, "top": 0.82}

    Button:
      pos_hint: {"x": 0.27, "top": 0.65}
      size_hint: 0.2, 0.1
      font_size: (root.width**2 + root.height**2) / 15**4
      text: "BACK"
      on_release:
        root.manager.transition.direction = "right"
        root.back()

    Button:
      pos_hint: {"x": 0.52, "top": 0.65}
      size_hint: 0.2, 0.1
      font_size: (root.width**2 + root.height**2) / 15**4
      text: "GO"
      on_release:
        root.manager.transition.direction = "left"
        root.go()

<MediumRangeWindow>:
  name: "medium_range"

  update: update

  # Set background color to custom color
  canvas.before:
    Color:
      rgba: 0, 0.3, 0.3, 1
    Rectangle:
      pos: self.pos
      size: self.size

  FloatLayout:
    size: root.width, root.height

    Label:
      text: "Enter your message here:"
      color: 1, 1, 1, 0.9
      size_hint: 0.5, 0.12
      pos_hint: {"x": 0.25, "top": 1}
      font_size: (root.width**2 + root.height**2) / 14**4

    TextInput:
      text: "UPDATE:"
      id: update 
      size_hint: 0.7, 0.65
      pos_hint: {"x": 0.15, "top": 0.88}
      font_size: (root.width**2 + root.height**2) / 16**4

    Button:
      pos_hint: {"x": 0.27,"top": 0.2}
      size_hint: 0.2, 0.1
      font_size: (root.width**2 + root.height**2) / 15**4
      text: "BACK"
      on_release:
        root.manager.transition.direction = "right"
        root.back()

    Button:
      pos_hint: {"x": 0.52, "top": 0.2}
      size_hint: 0.2, 0.1
      font_size: (root.width**2 + root.height**2) / 15**4
      text: "GO"
      on_release:
        root.manager.transition.direction = "left"
        root.go()

<PreviewWindow>:
  name: "preview"

  previewText: previewText
  characterCount: characterCount

  # Set background color to custom color
  canvas.before:
    Color:
      rgba: 0, 0.3, 0.3, 1
    Rectangle:
      pos: self.pos
      size: self.size

  canvas:
    Color:
      rgba: 0.4, 0.4, 0.4, 1
    Line:
      width: 1.25
      rectangle: (self.width / 8, self.height * 0.135, self.width * 0.75, self.height / 4) # format: (pos_x, pos_y, width, height)

  FloatLayout:
    size: root.width, root.height 
 
    Label:
      text: "Preview"
      color: 1, 1, 1, 0.9
      size_hint: 0.5, 0.12
      pos_hint: {"x": 0.25, "top": 1}
      font_size: (root.width**2 + root.height**2) / 14**4

    Label:
      id: previewText
      text_size: 0.75 * root.width, root.height / 4 
      valign: 'top'
      color: 1, 1, 1, 0.9
      size: self.texture_size
      pos_hint: {"x": 0, "top": 1.24} # yeah weird coordinate system I know 
      font_size: root.fontsize(self.text, root.height, root.width) # dynamically sized labels

    Label:
      id: characterCount
      text: 
      color: 1, 1, 1, 0.9
      size_hint: 0.5, 0.12
      pos_hint: {"x": 0.5, "top": 0.6}
      font_size: (root.width**2 + root.height**2) / 17**4
      markup: True # allows change in style in text 

    Label: 
      text: "Recipients"
      color: 1, 1, 1, 0.9
      size_hint: 0.5, 0.12
      pos_hint: {"x": 0.25, "top": 0.48}
      font_size: (root.width**2 + root.height**2) / 15**4

